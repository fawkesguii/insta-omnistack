{"version":3,"sources":["services/api.js","pages/feed.js","pages/new.js","route.js","components/header/index.js","App.js","index.js","assets/images/more.svg","assets/images/like.svg","assets/images/comment.svg","assets/images/send.svg","assets/images/logo.svg","assets/images/camera.svg"],"names":["api","axios","create","baseURL","pages","state","feed","registerToSocket","socket","io","on","newPost","_this","setState","concat","Object","toConsumableArray","likedPost","map","post","_id","handleLike","id","this","console","log","defaults","get","response","data","_this2","react_default","a","createElement","key","className","author","place","src","more","alt","image","type","onClick","like","comment","send","likes","description","hashtags","Component","New","handleSubmit","e","preventDefault","FormData","append","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","props","history","push","handleImage","target","files","handleChange","defineProperty","name","value","onSubmit","onChange","placeholder","Routes","react_router","path","exact","component","Feed","Header","react_router_dom","to","logo","camera","App","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.00736916.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'http://localhost:3333',\n});\n\nexport default api;","import React, { Component } from 'react';\nimport io from 'socket.io-client';\n\n// Services imports\nimport api from '../services/api';\n\n// CSS Imports\nimport '../assets/css/feed.css';\n\n// Imagens Impors\nimport more from '../assets/images/more.svg';\nimport like from '../assets/images/like.svg';\nimport comment from '../assets/images/comment.svg';\nimport send from '../assets/images/send.svg';\n\nexport default class pages extends Component {\n    state = {\n        feed:[],\n    };\n\n    async componentDidMount() {\n        this.registerToSocket();\n        console.log(api.defaults.baseURL);\n        const response = await api.get('posts/list');\n\n        this.setState({feed: response.data});\n    }\n\n    registerToSocket = () => {\n        const socket = io('http://localhost:3333');\n\n        // mensagens retornadas [posts,likes]\n        socket.on('post', newPost => {\n            this.setState({ feed: [newPost, ... this.state.feed ]});\n        });\n\n        socket.on('like', likedPost => {\n            this.setState({\n                feed: this.state.feed.map(post => \n                    post._id === likedPost? likedPost: post)\n            });\n        });\n    }\n\n    handleLike = id => {\n        api.post(`posts/${id}/like`);\n    }\n\n    render() {\n        return (\n            <section id=\"post-list\">\n                {this.state.feed.map(post =>(\n                    \n                        <article key={ post._id }>\n                            <header>\n                                <div className=\"user-info\">\n                                    <span> { post.author } </span>\n                                    <span className=\"place\"> { post.place } </span>\n                                </div>\n                                \n                                <img src={ more } alt=\"Mais\" />\n                            </header>\n                            \n                            <img src={`http://localhost:3333/files/${post.image}`} alt=\"\"/>\n\n                            <footer>\n                                <div className=\"actions\">\n                                    <button type=\"button\" onClick={ () => this.handleLike(post._id) }>\n                                        <img src={like} alt=\"\"/>\n                                    </button>\n                                    <img src={comment} alt=\"\"/>\n                                    <img src={send} alt=\"\"/>\n                                </div>\n\n                                <strong> { post.likes } curtidas</strong>\n\n                                <p> \n                                    { post.description }\n                                    <span> { post.hashtags } </span>\n                                </p>\n                            </footer>\n                        </article>\n\n                ))}\n            </section>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\n// Service Imports\nimport api from '../services/api';\n\n// CSS Imports\nimport '../assets/css/new.css';\n\nexport default class New extends Component {\n  state = {\n    image: null,\n    author: '',\n    place: '',\n    description: '',\n    hashtags: ''\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append('image',this.state.image);\n    data.append('author',this.state.author);\n    data.append('place',this.state.place);\n    data.append('description',this.state.description);\n    data.append('hashtags',this.state.hashtags);\n\n    (async () => {\n      await api.post('posts/create',data);\n    })();\n    \n    \n\n    this.props.history.push('/');\n  }\n\n  handleImage = e => {\n    this.setState({ image: e.target.files[0] });\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]:e.target.value });\n  }\n\n  render() {\n    return (\n        <form id=\"new-post\" onSubmit={ this.handleSubmit }>\n          <input type=\"file\" onChange={ this.handleImage }/>\n\n          <input type=\"text\" name=\"author\" \n            placeholder='Autor do Post' \n            onChange={ this.handleChange} \n            value={ this.state.author }/>\n\n          <input type=\"text\" name=\"place\" \n            placeholder='place do Post' \n            onChange={ this.handleChange} \n            value={ this.state.place }/>\n\n          <input type=\"text\" name=\"description\" \n            placeholder='description do Post' \n            onChange={ this.handleChange} \n            value={ this.state.description }/>\n\n          <input type=\"text\" name=\"hashtags\" \n            placeholder='hashtags do Post' \n            onChange={ this.handleChange} \n            value={ this.state.hashtags }/>\n          \n          <button type=\"submit\">Enviar</button>\n        </form>\n    );\n  }\n}\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom';\n\n// Components Imports\nimport Feed from './pages/feed';\nimport New from './pages/new';\n\nexport default function Routes() {\n    return (\n        <Switch>\n            <Route path='/' exact component={Feed} />\n            <Route path='/new' exact component={New} />\n        </Switch>\n    );\n}","import React from 'react';\nimport  { Link } from 'react-router-dom';\n\n// CSS Imports\nimport './index.css'\n\n// Images Import\nimport logo from '../../assets/images/logo.svg';\nimport camera from '../../assets/images/camera.svg'\n\nexport default function Header() {\n  return (\n    <header id='main-header'>\n        <div className=\"header-content\">\n            <Link to='/'>\n                <img src={logo} alt=\"InstaRocket\" />\n            </Link>\n            <Link to='/new'>\n                <img src={camera} alt=\"Enviar Publicação\"/>\n            </Link>\n        </div>\n    </header>\n  );\n}\n","import React from 'react';\nimport Routes from './route';\nimport { BrowserRouter } from 'react-router-dom';\n\n// Components Import\nimport Header from './components/header';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <Routes />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// CSS Imports\nimport './assets/css/global.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/more.22d960a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.00e13584.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.e2a49935.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.55e74cfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.83fd0bcc.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.787c6af9.svg\";"],"sourceRoot":""}